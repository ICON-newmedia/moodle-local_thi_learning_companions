<?phpnamespace local_learningcompanions;class group_form extends \moodleform {    protected function definition()    {        $mform = $this->_form;        $mform->addElement(            'text',            'name',            get_string('groupname', 'local_learningcompanions'),            'size="60" maxlength="100"'        );        $mform->addRule('name', get_string('required'), 'required');        $mform->addRule(            'name',            get_string('maxlengthwarning', 'local_learningcompanions', 4000),            'maxlength',            100        );        $mform->addElement( 'textarea', 'description',            get_string('groupdescription', 'local_learningcompanions'),            'rows = "10" cols="60" maxlength="4000"'        );        $mform->addRule(            'description',            get_string('maxlengthwarning', 'local_learningcompanions', 4000),            'maxlength',        4000        );        $mform->addRule('description', get_string('required'), 'required');        $knownkeywords = \local_learningcompanions\groups::get_all_keywords();        $knownkeywords = array_combine($knownkeywords, $knownkeywords);        $options = [            'multiple' => true,            'noselectionstring' => get_string('nokeywords', 'local_learningcompanions'),            'tags' => true        ];        $mform->addElement(            'autocomplete',            'keywords',            get_string('keywords', 'local_learningcompanions'),            $knownkeywords,            $options        );        $mform->addElement(            'select',            'closedgroup',            get_string('closedgroup', 'local_learningcompanions'),            [                0 => get_string('no'),                1 => get_string('yes')            ]        );        $mform->setDefault('closedgroup', 0);        $mform->addHelpButton('closedgroup', 'closedgroup', 'local_learningcompanions');        if (isset($this->_customdata['cmid'])) {            // ICTODO: check that the cmid belongs to the given course id (see below)            // and that the user has the right to create a group for this course module            // btw. might become redundant. we probably won't have groups that belong to a course module            $cmid = $this->_customdata['cmid'];        } else {            $cmid = 0;        }        $mform->addElement('hidden', 'cmid', $cmid);        // ICTODO: check that customdata has a course id and that the user has the right to create a group for that course        $mform->addElement('hidden', 'courseid', $this->_customdata['courseid']);        if (isset($this->_customdata['groupid'])) {            // ICTODO: check that the cmid belongs to the given course id (see below)            // and that the user has the right to create a group for this course module            // btw. might become redundant. we probably won't have groups that belong to a course module            $groupid = $this->_customdata['groupid'];        } else {            $groupid = 0;        }        $mform->addElement('hidden', 'groupid', $groupid);        $this->add_action_buttons();    }}