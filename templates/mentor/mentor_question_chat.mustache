{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_thi_learning_companions/mentor/mentor_question_chat

    chat for user to mentor to discuss questions

    Example context (json):
    {
        "form": "<form>The rendered HTML for the form element for writing messages</form>",
        "question": {
            "is_closed": "false",
            "get_id": "2"
        },
        "userid": "5",
        "languageStrings": "// here be some language strings;"
    }
}}
<div class="container">
    <h1>Mentoring</h1>
    <div id="thi_learning_companions_chat_wrapper">
        <div class="row">
            <div id="thi_learning_companions_chat" class="col-12">
                <div id="thi_learning_companions_chat-content"></div>
                {{{form}}}
            </div>
                {{^question.is_closed}}
                    <div class="col-12 d-flex justify-content-center">
                        <a class="btn btn-primary btn-lg" href="{{globals.config.wwwroot}}/local/thi_learning_companions/mentor/close_question.php?id={{question.get_id}}"><i class="fa fa-check"></i> {{#str}}close_question, local_thi_learning_companions{{/str}}</a>
                    </div>
                {{/question.is_closed}}
        </div>
    </div>
</div>
<script>
    var thi_learning_companions_questionid = {{question.get_id}};
    var thi_learning_companions_chat_userid = {{userid}};
    var thi_learning_companions_groupid = null;
</script>
{{#js}}
{{{languageStrings}}}
window.$(document).ready(function() {
    window.Chat.startQuestionChat();
});
{{/js}}
