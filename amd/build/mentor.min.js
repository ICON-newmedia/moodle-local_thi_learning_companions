define ("local_learningcompanions/mentor",["jquery","core/config","core/str","core/modal_factory","core/modal_events","local_learningcompanions/jquery.dataTables","local_learningcompanions/select2"],function(a,b,c,d,e){return{select2:function select2(){a(".select2").select2()},init:function init(){var b=c.get_string("datatables_url","local_learningcompanions");b.then(function(b){a("#askedquestionstable").DataTable({language:{url:b}});a("#mymentorquestionstable").DataTable({language:{url:b}});a("#allmentorquestionstable").DataTable({language:{url:b}})});a(".askedquestions-delete").click(function(b){b.preventDefault();var f=a(this).data("qid"),g=a(this).data("question");c.get_strings([{key:"modal-deletemyquestion-title",component:"local_learningcompanions"},{key:"modal-deletemyquestion-text",component:"local_learningcompanions",param:g},{key:"modal-deletemyquestion-okaybutton",component:"local_learningcompanions"},{key:"modal-deletemyquestion-cancelbutton",component:"local_learningcompanions"}]).then(function(a){return d.create({title:a[0],body:"<div id=\"mentor-deletemyquestion-modal\"><div id=\"mentor-deletemyquestion-modal-text\">"+a[1]+"</div></div>",footer:"<div id=\"mentor-deletemyquestion-modal-buttons\"><button class=\"btn btn-primary\" aria-hidden=\"true\" id=\"mentor-deletemyquestion-modal-delete\" data-qid=\""+f+"\">"+a[2]+"</button><button class=\"btn btn-secondary\" aria-hidden=\"true\" id=\"mentor-deletemyquestion-modal-close\" data-action=\"hide\">"+a[3]+"</button></div>"})}).then(function(a){a.getRoot().on(e.hidden,function(){a.destroy()});a.show()})});a("body").on("click","#mentor-deletemyquestion-modal-delete",function(){var b=a(this).data("qid");a.ajax({url:M.cfg.wwwroot+"/local/learningcompanions/ajax.php",method:"POST",dataType:"json",data:{action:"deletemyquestion",questionid:b},success:function success(a){if("fail"===a){window.location.href=M.cfg.wwwroot+"/local/learningcompanions/mentor/index.php?n=n_d"}else{window.location.href=M.cfg.wwwroot+"/local/learningcompanions/mentor/index.php?n=d"}}})});a("body").on("click","#mentor-deletemyquestion-modal-close",function(){a(".modal").remove()})}}});
//# sourceMappingURL=mentor.min.js.map
