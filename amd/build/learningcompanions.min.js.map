{"version":3,"file":"learningcompanions.min.js","sources":["../src/learningcompanions.js"],"sourcesContent":["/* eslint no-console:off */\ndefine(['jquery', 'core/str', 'core/yui', 'core/modal_factory'], function($, Str, Y, ModalFactory){\n    return {\n        getcourseid: function() {\n            var entries = document.getElementsByTagName('body')[0].classList;\n            var myArray = Array.from(entries);\n            var courseid = myArray.reduce((a, b) => {\n                if (b.indexOf('course-2') === 0) {\n                    return b.substr(7);\n                }\n                return a;\n            });\n            if (typeof courseid === \"undefined\" || courseid.length === 0) {\n                return false;\n            }\n            return parseInt(courseid);\n        },\n        init: function(cssselector, bgcolor, textcolor, borderradius) {\n            var courseid = this.getcourseid();\n            if (!courseid) {\n                return;\n            }\n            const isColor = (strColor) => {\n                const s = new Option().style;\n                s.color = strColor;\n                return s.color !== '';\n            };\n            if (!isColor(bgcolor)) {\n                bgcolor = '#333';\n            }\n            if (!isColor(textcolor)) {\n                textcolor = '#fff';\n            }\n            borderradius = parseInt(borderradius);\n            /*\n          Str.get_strings([\n              {key: 'group-me-up', component: 'local_learningcompanions'}\n          ]).then(function(strings) {\n              $(cssselector).append(\n                  '<div class=\"learningcompanions-group-me-up\" ' +\n                  'style=\"background-color:' + bgcolor + ';' +\n                  'color:' + textcolor + ';' +\n                  'border-radius: ' + borderradius + 'px\"' +\n                  '><a class=\"learningcompanions-group-me-up-button\" href=\"#' +\n                  // ICTODO: replace the link below with link to group overview:\n                  // list of groups for this course where you can join or create a new group\n                  M.cfg.wwwroot + '/local/learningcompanions/creategroup.php?courseid=' + courseid + '&layout=embedded\"' +\n                  '>' + strings[0] + '</a></div>');\n\n              var buttons = $('.learningcompanions-group-me-up-button');\n\n             var trigger = buttons.get(0);\n              ModalFactory.create({\n                  title: 'test title',\n                  body: '<p>test body content</p>',\n                  footer: 'test footer content',\n              }, trigger)\n                  .done(function(modal) {\n                      // Do what you want with your new modal.\n\n                      // Maybe... add a class to the modal dialog, to be able to style it.\n                      console.log('my modal is done :)', modal);\n                      // modal.getRoot().addClass('mydialog');\n                  });\n              // for (let a = 0; a < buttons.length; a++) {\n              //     var lightbox = M.util.add_lightbox(Y, Y.Node(buttons.get(0)));\n              //     lightbox.show();\n              // }\n              return null;\n              // $('.learningcompanions-group-me-up-button').each((index, element) => {\n              //     // ICTODO: using the lightbox doesn't work yet\n              //     console.log('add lightbox to: ', index, element, 'M:', M, 'Y:', Y);\n              //     M.util.add_lightbox(Y, Y.Node(element.get(0)));\n              // });\n\n\n            });\n            */\n        }\n    };\n});\n"],"names":["define","$","Str","Y","ModalFactory","getcourseid","entries","document","getElementsByTagName","classList","courseid","Array","from","reduce","a","b","indexOf","substr","length","parseInt","init","cssselector","bgcolor","textcolor","borderradius","this","isColor","strColor","s","Option","style","color"],"mappings":"AACAA,qDAAO,CAAC,SAAU,WAAY,WAAY,uBAAuB,SAASC,EAAGC,IAAKC,EAAGC,oBAC1E,CACHC,YAAa,eACLC,QAAUC,SAASC,qBAAqB,QAAQ,GAAGC,UAEnDC,SADUC,MAAMC,KAAKN,SACFO,QAAO,CAACC,EAAGC,IACA,IAA1BA,EAAEC,QAAQ,YACHD,EAAEE,OAAO,GAEbH,gBAEa,IAAbJ,UAAgD,IAApBA,SAASQ,QAGzCC,SAAST,WAEpBU,KAAM,SAASC,YAAaC,QAASC,UAAWC,kBAC7BC,KAAKpB,2BAIdqB,QAAWC,iBACPC,GAAI,IAAIC,QAASC,aACvBF,EAAEG,MAAQJ,SACS,KAAZC,EAAEG,OAERL,QAAQJ,WACTA,QAAU,QAETI,QAAQH,aACTA,UAAY,QAEhBC,aAAeL,SAASK"}