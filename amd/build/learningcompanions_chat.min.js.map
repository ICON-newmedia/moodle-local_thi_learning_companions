{"version":3,"file":"learningcompanions_chat.min.js","sources":["../src/learningcompanions_chat.js"],"sourcesContent":["/* eslint-disable no-console, no-unused-vars, max-len, jsdoc/require-jsdoc, no-inner-declarations */\nimport $ from 'jquery';\nimport * as str from 'core/str';\nimport * as ModalFactory from 'core/modal_factory';\nimport * as ModalEvents from 'core/modal_events';\nimport {\n    handleGroupLeaveButton,\n    handleGroupRequestButton,\n    handleGroupInviteButton\n} from 'local_learningcompanions/group';\n\nlet strings = [];\n\nexport const init = async() => {\n    // Put send button to the right next to the message box\n    // we can't arrange it that way with just Moodle Forms API\n    const sendButton = $('#local_learningcompanions_chat-send');\n    const messageBox = $('#id_messageeditable');\n    messageBox.after(sendButton);\n    // Add event listener to the send button to handle message sending\n    sendButton.on('click', handleNewMessageSubmit);\n\n    addBBBlinkButton();\n\n    const stringsObj = [\n        {key: 'modal-deletecomment-title', component: 'local_learningcompanions'},\n        {key: 'modal-deletecomment-text', component: 'local_learningcompanions'},\n        {key: 'modal-deletecomment-okaybutton', component: 'local_learningcompanions'},\n        {key: 'modal-editcomment-title', component: 'local_learningcompanions'},\n        {key: 'modal-editcomment-okaybutton', component: 'local_learningcompanions'},\n        {key: 'modal-reportcomment-title', component: 'local_learningcompanions'},\n        {key: 'modal-reportcomment-text', component: 'local_learningcompanions'},\n        {key: 'modal-reportcomment-okaybutton', component: 'local_learningcompanions'},\n    ];\n\n    // eslint-disable-next-line no-return-assign\n    str.get_strings(stringsObj).then(results => strings = results);\n\n    const body = $('body');\n\n    body.on('click', '.learningcompanions_delete_comment', handleCommentDelete);\n    body.on('click', '.learningcompanions_edit_comment', handleCommentEdit);\n    body.on('click', '.learningcompanions_report_comment', handleCommentReport);\n    body.on('click', '.learningcompanions_editgroup', handleEditGroup);\n\n    body.on('click', '.js-leave-group', handleGroupLeaveButton);\n    body.on('click', '.js-request-join-group', handleGroupRequestButton);\n    body.on('click', '.js-invite-member', handleGroupInviteButton);\n    body.on('click', '.learningcompanions_bbb_button', handleBBBButton);\n};\n\nconst addBBBlinkButton = function() {\n    var string = str.get_string(  'bigbluebutton_title', 'local_learningcompanions');\n    string.then((title) => {\n        $().add('<div class=\"atto_group accessibility_group\"><button class=\"learningcompanions_bbb_button\" title=\"' + title + '\")>BigBlueButton</button></div>').appendTo('.atto_toolbar_row:first-child');\n    });\n};\nconst handleBBBButton = function(e){\n    e.preventDefault();\n    var sel = window.getSelection();\n    let messageEditorSelected = false;\n    const messageEditor = document.getElementById('id_messageeditable');\n    // eslint-disable-next-line no-cond-assign\n    while (sel = sel.parentNode){\n        if (sel.id === 'id_messageeditable') {\n            messageEditorSelected = true;\n            break;\n        }\n    }\n    if (!messageEditorSelected) {\n        document.getSelection().removeAllRanges();\n        messageEditor.focus();\n        const range = new Range();\n        const childElementCount = messageEditor.childElementCount;\n        range.setStartAfter(messageEditor.children[childElementCount - 1]);\n        document.getSelection().addRange(range);\n    }\n    var string = str.get_string('bigbluebutton_join_text', 'local_learningcompanions');\n    var bbbURLs = $.ajax(M.cfg.wwwroot + '/local/learningcompanions/ajax_videocall.php');\n    Promise.all([string,bbbURLs]).then((data) => {\n        const urls = data[1];\n        window.open(urls['moderator'], '_blank');\n        pasteHtmlAtCaret(' <a target=\"_blank\" href=\"' + urls['participants'] + '\">' + data[0] + '</a>');\n\n    });\n    // ICTODO: Create a new BBB room, then create a link that the users can use to join the room, all via AJAX\n    return false;\n};\nconst pasteHtmlAtCaret = function(html) {\n    var sel, range;\n    if (window.getSelection) {\n        // IE9 and non-IE\n        sel = window.getSelection();\n        if (sel.getRangeAt && sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n\n            // Range.createContextualFragment() would be useful here but is\n            // only relatively recently standardized and is not supported in\n            // some browsers (IE9, for one)\n            var el = document.createElement(\"div\");\n            el.innerHTML = html;\n            var frag = document.createDocumentFragment(), node, lastNode;\n            while ( (node = el.firstChild) ) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n\n            // Preserve the selection\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(true);\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    } else if (document.selection && document.selection.type != \"Control\") {\n        // IE < 9\n        document.selection.createRange().pasteHTML(html);\n    }\n};\nconst handleCommentDelete = async function(e) {\n    const postId = +e.target.dataset.id;\n\n    const modal = await ModalFactory.create({\n        type: ModalFactory.types.SAVE_CANCEL,\n        title: strings[0],\n        body: '' +\n            '<div id=\"learningcompanions-deletecomment-modal\">' +\n            '<div id=\"learningcompanions-deletecomment-modal-text\">' + strings[1] + '</div>' +\n            '</div>',\n    });\n\n    console.log('comment id from data:', postId);\n\n    modal.getRoot().on(ModalEvents.save, function() {\n        $.ajax({\n            url: M.cfg.wwwroot + '/local/learningcompanions/ajax/ajaxdeletecomment.php',\n            method: 'POST',\n            dataType: 'json',\n            data: {\n                commentid: postId\n            },\n            success: function(data) {\n                // modal.destroy();\n                if (data === 'fail') {\n                    // ICTODO: output fail message\n                } else {\n                    // ICTODO: output success message\n                }\n                document.dispatchEvent(new CustomEvent('learningcompanions_message_deleted', {detail: {postid: postId}}));\n                // document.dispatchEvent(new ModalEvents.hidden);\n            }\n        });\n    });\n    modal.setSaveButtonText(strings[2]);\n    modal.show();\n};\nconst handleCommentEdit = async function(e) {\n    console.log('clicked edit comment. event object:', e);\n    console.log('clicked edit comment for comment id:', e.target.dataset.id);\n    var commentid = e.target.dataset.id;\n    console.log('commentid before creating modal:', commentid);\n    console.log(ModalFactory);\n    return ModalFactory.create({\n        type: ModalFactory.types.SAVE_CANCEL,\n        title: strings[3],\n        body: '' +\n            '<div id=\"learningcompanions-edit-modal\">' +\n            '<div id=\"learningcompanions-edit-modal-text\">' + strings[4] + '</div>' +\n            '</div>',\n        // footer: '' +\n        //     '<div id=\"learningcompanions-deletecomment-modal-buttons\">' +\n        //     '<button class=\"btn btn-primary\" aria-hidden=\"true\" id=\"learningcompanions-deletecomment-modal-delete\" data-cid=\"' + commentid + '\">' + strings[2] + '</button>' +\n        //     '<button class=\"btn btn-secondary\" aria-hidden=\"true\" id=\"learningcompanions-deletecomment-modal-close\" data-action=\"hide\">' + strings[3] + '</button>' +\n        //     '</div>'\n    }).then(function(modal) {\n        console.log('edit comment id from data:', commentid);\n\n        modal.setSaveButtonText(strings[5]);\n        $.ajax(\n            {\n                url: M.cfg.wwwroot + '/local/learningcompanions/editcomment.php',\n                method: 'POST',\n                dataType: 'json',\n                data: {\n                    commentid: commentid\n                }\n            }\n        ).done(function(a, b, c) {\n            console.log('inside edit comment. a:', a, 'b:', b, 'c:', c);\n            modal.setText(a.text);\n        });\n        // modal.getRoot().on(ModalEvents.hidden, function () {\n        //     modal.destroy();\n        // });\n        modal.show();\n    });\n};\nconst handleCommentReport = async function(e) {\n    const postId = +e.target.dataset.id;\n\n    return ModalFactory.create({\n        type: ModalFactory.types.SAVE_CANCEL,\n        title: strings[5],\n        body: '' +\n            '<div id=\"learningcompanions-reportcomment-modal\">' +\n            '<div id=\"learningcompanions-reportcomment-modal-text\">' + strings[6] + '</div>' +\n            '</div>'\n    }).then(function(modal) {\n        console.log('comment id from data:', postId);\n\n        modal.getRoot().on(ModalEvents.save, function() {\n            console.log('about to call ajaxdeletecomment.php with comment id', postId);\n            $.ajax({\n                url: `${M.cfg.wwwroot}/local/learningcompanions/ajax/ajaxreport.php`,\n                method: 'POST',\n                dataType: 'json',\n                data: {\n                    commentid: postId\n                },\n                success: function(data) {\n                    // modal.destroy();\n                    if (data === 'fail') {\n                        // ICTODO: output fail message\n                    } else {\n                        // ICTODO: output success message\n                    }\n                    document.dispatchEvent(new CustomEvent('learningcompanions_message_reported', {detail: {postid: postId}}));\n                    // document.dispatchEvent(ModalEvents.hidden);\n                }\n            });\n        });\n        modal.setSaveButtonText(strings[7]);\n        modal.show();\n    });\n};\nconst handleEditGroup = async function(e) {\n    console.log('clicked on gear icon', this, e);\n\n    async function callGroupModal(e) {\n        e.preventDefault();\n\n        const groupid = e.target.dataset.gid;\n        const groupname = e.target.dataset.title;\n        console.log('getting group modal for ', groupid, groupname, this, e);\n        const groupDetails = $.ajax({\n            url: M.cfg.wwwroot + '/local/learningcompanions/ajax/ajax.php',\n            method: 'POST',\n            dataType: 'json',\n            data: {\n                action: 'getgroupdetails',\n                groupid: groupid\n            },\n            success: function(data) {\n                const title = str.get_string('modal-groupdetails-groupname', 'local_learningcompanions', groupname);\n                title.then(function(string) {\n                    console.log('got group title string:', title);\n                    console.log('got group details data:', data);\n                    ModalFactory.create({\n                        title: string,\n                        body: data.html,\n                        footer: '',\n                        large: true,\n                        type: ModalFactory.types.CANCEL,\n                    }).then(modal => {\n                        modal.show();\n                    });\n                });\n            }\n        });\n    }\n\n    callGroupModal(e).then(() => {\n        console.log('called modal for group details. What now?');\n    });\n};\n\nconst handleNewMessageSubmit = (e) => {\n    if (e.target.getAttribute(\"disabled\") === true) {\n        return;\n    }\n    // ICTODO: disable the form/grey it out, while data is getting sent\n    e.preventDefault();\n    const data = {};\n    $('#learningcompanions_chat form input, #learningcompanions_chat form textarea').each((index, el) => {\n        data[el.name] = el.value;\n    });\n    $('#learningcompanions_chat #id_messageeditable').css('opacity', '0.5');\n    $('#learningcompanions_chat #id_messageeditable').attr('contenteditable', 'false');\n    $('#learningcompanions_chat form input,  #learningcompanions_chat form textarea, #local_learningcompanions_chat-send').attr('disabled', true);\n    $.post(\n        M.cfg.wwwroot + \"/local/learningcompanions/ajax/ajaxsubmit.php\",\n        data\n    ).done(function(a, b, c) {\n        // ICTODO: give a success message, like with a toast or so\n        // reset the form to empty values after successfully sending the form\n        $('#learningcompanions_chat form #id_messageeditable').text(\"\");\n        $('#learningcompanions_chat form input, #learningcompanions_chat form textarea').each((index, el) => {\n            if (el.name == \"textarea\" || el.type !== \"hidden\") {\n                el.value = '';\n            }\n        });\n        document.dispatchEvent(new CustomEvent('learningcompanions_message_send'));\n    }).fail(function(a, b, c) {\n        console.warn('Failed sending via AJAX', a, b, c);\n        window.alert(\"couldn't save\"); // ICTODO: give proper message, via get_string and ideally with a modal\n    }).always(function() {\n        // reactivate the form/ungrey it when data has been sent\n        $('#learningcompanions_chat #id_messageeditable').css('opacity', '1');\n        $('#learningcompanions_chat #id_messageeditable').attr('contenteditable', 'true');\n        $('#learningcompanions_chat form input,  #learningcompanions_chat form textarea, #local_learningcompanions_chat-send').attr('disabled', false);\n    });\n    return false;\n};\n"],"names":["strings","init","sendButton","after","on","handleNewMessageSubmit","addBBBlinkButton","stringsObj","key","component","str","get_strings","then","results","body","handleCommentDelete","handleCommentEdit","handleCommentReport","handleEditGroup","handleGroupLeaveButton","handleGroupRequestButton","handleGroupInviteButton","handleBBBButton","get_string","title","add","appendTo","e","preventDefault","sel","window","getSelection","messageEditorSelected","messageEditor","document","getElementById","parentNode","id","removeAllRanges","focus","range","Range","childElementCount","setStartAfter","children","addRange","string","bbbURLs","$","ajax","M","cfg","wwwroot","Promise","all","data","urls","open","pasteHtmlAtCaret","html","getRangeAt","rangeCount","deleteContents","el","createElement","innerHTML","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","insertNode","cloneRange","collapse","selection","type","createRange","pasteHTML","postId","target","dataset","ModalFactory","create","types","SAVE_CANCEL","modal","console","log","getRoot","ModalEvents","save","url","method","dataType","commentid","success","dispatchEvent","CustomEvent","detail","postid","setSaveButtonText","show","done","a","b","c","setText","text","callGroupModal","groupid","gid","groupname","this","action","footer","large","CANCEL","getAttribute","each","index","name","value","css","attr","post","fail","warn","alert","always"],"mappings":"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"}