function _typeof(e){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(e){return typeof e}}else{_typeof=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}(function(e){if("function"==typeof define&&define.amd){define ("local_learningcompanions/select2",["jquery"],e)}else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=function(t,o){if(o===void 0){if("undefined"!=typeof window){o=require("jquery")}else{o=require("jquery")(t)}}e(o);return o}}else{e(jQuery)}})(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd){var t=e.fn.select2.amd}var t;(function(){if(!t||!t.requirejs){if(!t){t={}}else{o=t}var e,o,r;(function(t){var h,m,y,f,_={},b={},v={},A={},w=Object.prototype.hasOwnProperty,x=[].slice,D=/\.js$/;function n(e,t){return w.call(e,t)}function a(e,t){var o,r,n,a,s,l,d,p,c,u,g,h,m=t&&t.split("/"),y=v.map,f=y&&y["*"]||{};if(e){e=e.split("/");s=e.length-1;if(v.nodeIdCompat&&D.test(e[s])){e[s]=e[s].replace(D,"")}if("."===e[0].charAt(0)&&m){h=m.slice(0,m.length-1);e=h.concat(e)}for(c=0;c<e.length;c++){g=e[c];if("."===g){e.splice(c,1);c-=1}else if(".."===g){if(0===c||1===c&&".."===e[2]||".."===e[c-1]){continue}else if(0<c){e.splice(c-1,2);c-=2}}}e=e.join("/")}if((m||f)&&y){o=e.split("/");for(c=o.length;0<c;c-=1){r=o.slice(0,c).join("/");if(m){for(u=m.length;0<u;u-=1){n=y[m.slice(0,u).join("/")];if(n){n=n[r];if(n){a=n;l=c;break}}}}if(a){break}if(!d&&f&&f[r]){d=f[r];p=c}}if(!a&&d){a=d;l=p}if(a){o.splice(0,l,a);e=o.join("/")}}return e}function s(e,o){return function(){var r=x.call(arguments,0);if("string"!=typeof r[0]&&1===r.length){r.push(null)}return m.apply(t,r.concat([e,o]))}}function l(e){return function(t){return a(t,e)}}function d(e){return function(t){_[e]=t}}function p(e){if(n(b,e)){var o=b[e];delete b[e];A[e]=!0;h.apply(t,o)}if(!n(_,e)&&!n(A,e)){throw new Error("No "+e)}return _[e]}function c(e){var t,o=e?e.indexOf("!"):-1;if(-1<o){t=e.substring(0,o);e=e.substring(o+1,e.length)}return[t,e]}function u(e){return e?c(e):[]}y=function(e,t){var o,r=c(e),n=r[0],s=t[1];e=r[1];if(n){n=a(n,s);o=p(n)}if(n){if(o&&o.normalize){e=o.normalize(e,l(s))}else{e=a(e,s)}}else{e=a(e,s);r=c(e);n=r[0];e=r[1];if(n){o=p(n)}}return{f:n?n+"!"+e:e,n:e,pr:n,p:o}};function g(e){return function(){return v&&v.config&&v.config[e]||{}}}f={require:function(e){return s(e)},exports:function exports(t){var o=_[t];if("undefined"!=typeof o){return o}else{return _[t]={}}},module:function module(e){return{id:e,uri:"",exports:_[e],config:g(e)}}};h=function(e,o,r,a){var l,c,g,h,m,v,w=[],x=_typeof(r),D;a=a||e;v=u(a);if("undefined"===x||"function"===x){o=!o.length&&r.length?["require","exports","module"]:o;for(m=0;m<o.length;m+=1){h=y(o[m],v);c=h.f;if("require"===c){w[m]=f.require(e)}else if("exports"===c){w[m]=f.exports(e);D=!0}else if("module"===c){l=w[m]=f.module(e)}else if(n(_,c)||n(b,c)||n(A,c)){w[m]=p(c)}else if(h.p){h.p.load(h.n,s(a,!0),d(c),{});w[m]=_[c]}else{throw new Error(e+" missing "+c)}}g=r?r.apply(_[e],w):void 0;if(e){if(l&&l.exports!==t&&l.exports!==_[e]){_[e]=l.exports}else if(g!==t||!D){_[e]=g}}}else if(e){_[e]=r}};e=o=m=function req(e,o,r,n,a){if("string"==typeof e){if(f[e]){return f[e](o)}return p(y(e,u(o)).f)}else if(!e.splice){v=e;if(v.deps){m(v.deps,v.callback)}if(!o){return}if(o.splice){e=o;o=r;r=null}else{e=t}}o=o||function(){};if("function"==typeof r){r=n;n=a}if(n){h(t,e,o,r)}else{setTimeout(function(){h(t,e,o,r)},4)}return m};m.config=function(e){return m(e)};e._defined=_;r=function(e,t,o){if("string"!=typeof e){throw new Error("See almond README: incorrect module build, no module name")}if(!t.splice){o=t;t=[]}if(!n(_,e)&&!n(b,e)){b[e]=[e,t,o]}};r.amd={jQuery:!0}})();t.requirejs=e;t.require=o;t.define=r}})();t.define("almond",function(){});t.define("jquery",[],function(){var t=e||$;if(null==t&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.")}return t});t.define("select2/utils",["jquery"],function(e){var o={Extend:function(e,t){var r={}.hasOwnProperty;function o(){this.constructor=e}for(var n in t){if(r.call(t,n)){e[n]=t[n]}}o.prototype=t.prototype;e.prototype=new o;e.__super__=t.prototype;return e}};function t(e){var t=e.prototype,o=[];for(var r in t){var n=t[r];if("function"!=typeof n){continue}if("constructor"==r){continue}o.push(r)}return o}o.Decorate=function(e,o){var n=t(o),a=t(e);function r(){var t=Array.prototype.unshift,r=o.prototype.constructor.length,n=e.prototype.constructor;if(0<r){t.call(arguments,e.prototype.constructor);n=o.prototype.constructor}n.apply(this,arguments)}o.displayName=e.displayName;r.prototype=new function(){this.constructor=r};for(var s=0,l;s<a.length;s++){l=a[s];r.prototype[l]=e.prototype[l]}for(var i=function(e){var t=function(){};if((e in r.prototype)){t=r.prototype[e]}var n=o.prototype[e];return function(){var e=Array.prototype.unshift;e.call(arguments,t);return n.apply(this,arguments)}},p=0,c;p<n.length;p++){c=n[p];r.prototype[c]=i(c)}return r};var r=function(){this.listeners={}};r.prototype.on=function(e,t){this.listeners=this.listeners||{};if(e in this.listeners){this.listeners[e].push(t)}else{this.listeners[e]=[t]}};r.prototype.trigger=function(e){var t=Array.prototype.slice,o=t.call(arguments,1);this.listeners=this.listeners||{};if(null==o){o=[]}if(0===o.length){o.push({})}o[0]._type=e;if(e in this.listeners){this.invoke(this.listeners[e],t.call(arguments,1))}if("*"in this.listeners){this.invoke(this.listeners["*"],arguments)}};r.prototype.invoke=function(e,t){for(var o=0,r=e.length;o<r;o++){e[o].apply(this,t)}};o.Observable=r;o.generateChars=function(e){for(var t="",o=0,r;o<e;o++){r=Math.floor(36*Math.random());t+=r.toString(36)}return t};o.bind=function(e,t){return function(){e.apply(t,arguments)}};o._convertData=function(e){for(var t in e){var o=t.split("-"),r=e;if(1===o.length){continue}for(var n=0,a;n<o.length;n++){a=o[n];a=a.substring(0,1).toLowerCase()+a.substring(1);if(!(a in r)){r[a]={}}if(n==o.length-1){r[a]=e[t]}r=r[a]}delete e[t]}return e};o.hasScroll=function(t,o){var r=e(o),n=o.style.overflowX,a=o.style.overflowY;if(n===a&&("hidden"===a||"visible"===a)){return!1}if("scroll"===n||"scroll"===a){return!0}return r.innerHeight()<o.scrollHeight||r.innerWidth()<o.scrollWidth};o.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if("string"!=typeof e){return e}return(e+"").replace(/[&<>"'\/\\]/g,function(e){return t[e]})};o.appendMany=function(t,o){if("1.7"===e.fn.jquery.substr(0,3)){var r=e();e.map(o,function(e){r=r.add(e)});o=r}t.append(o)};o.__cache={};var n=0;o.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");if(null==t){if(e.id){t=e.id;e.setAttribute("data-select2-id",t)}else{e.setAttribute("data-select2-id",++n);t=n.toString()}}return t};o.StoreData=function(e,t,r){var n=o.GetUniqueElementId(e);if(!o.__cache[n]){o.__cache[n]={}}o.__cache[n][t]=r};o.GetData=function(t,r){var n=o.GetUniqueElementId(t);if(r){if(o.__cache[n]){if(null!=o.__cache[n][r]){return o.__cache[n][r]}return e(t).data(r)}return e(t).data(r)}else{return o.__cache[n]}};o.RemoveData=function(e){var t=o.GetUniqueElementId(e);if(null!=o.__cache[t]){delete o.__cache[t]}e.removeAttribute("data-select2-id")};return o});t.define("select2/results",["jquery","./utils"],function(e,t){function o(e,t,r){this.$element=e;this.data=r;this.options=t;o.__super__.constructor.call(this)}t.Extend(o,t.Observable);o.prototype.render=function(){var t=e("<ul class=\"select2-results__options\" role=\"listbox\"></ul>");if(this.options.get("multiple")){t.attr("aria-multiselectable","true")}this.$results=t;return t};o.prototype.clear=function(){this.$results.empty()};o.prototype.displayMessage=function(t){var o=this.options.get("escapeMarkup");this.clear();this.hideLoading();var r=e("<li role=\"alert\" aria-live=\"assertive\" class=\"select2-results__option\"></li>"),n=this.options.get("translations").get(t.message);r.append(o(n(t.args)));r[0].className+=" select2-results__message";this.$results.append(r)};o.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};o.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length){if(0===this.$results.children().length){this.trigger("results:message",{message:"noResults"})}return}e.results=this.sort(e.results);for(var o=0;o<e.results.length;o++){var r=e.results[o],n=this.option(r);t.push(n)}this.$results.append(t)};o.prototype.position=function(e,t){var o=t.find(".select2-results");o.append(e)};o.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)};o.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");if(0<t.length){t.first().trigger("mouseenter")}else{e.first().trigger("mouseenter")}this.ensureHighlightVisible()};o.prototype.setClasses=function(){var o=this;this.data.current(function(r){var n=e.map(r,function(e){return e.id.toString()}),a=o.$results.find(".select2-results__option[aria-selected]");a.each(function(){var o=e(this),r=t.GetData(this,"data"),a=""+r.id;if(null!=r.element&&r.element.selected||null==r.element&&-1<e.inArray(a,n)){o.attr("aria-selected","true")}else{o.attr("aria-selected","false")}})})};o.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),o={disabled:!0,loading:!0,text:t(e)},r=this.option(o);r.className+=" loading-results";this.$results.prepend(r)};o.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};o.prototype.option=function(o){var r=document.createElement("li");r.className="select2-results__option";var n={role:"option","aria-selected":"false"},a=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;if(null!=o.element&&a.call(o.element,":disabled")||null==o.element&&o.disabled){delete n["aria-selected"];n["aria-disabled"]="true"}if(null==o.id){delete n["aria-selected"]}if(null!=o._resultId){r.id=o._resultId}if(o.title){r.title=o.title}if(o.children){n.role="group";n["aria-label"]=o.text;delete n["aria-selected"]}for(var s in n){var l=n[s];r.setAttribute(s,l)}if(o.children){var i=e(r),d=document.createElement("strong");d.className="select2-results__group";e(d);this.template(o,d);for(var p=[],u=0;u<o.children.length;u++){var g=o.children[u],h=this.option(g);p.push(h)}var m=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});m.append(p);i.append(d);i.append(m)}else{this.template(o,r)}t.StoreData(r,"data",o);return r};o.prototype.bind=function(o){var r=this,n=o.id+"-results";this.$results.attr("id",n);o.on("results:all",function(e){r.clear();r.append(e.data);if(o.isOpen()){r.setClasses();r.highlightFirstItem()}});o.on("results:append",function(e){r.append(e.data);if(o.isOpen()){r.setClasses()}});o.on("query",function(e){r.hideMessages();r.showLoading(e)});o.on("select",function(){if(!o.isOpen()){return}r.setClasses();if(r.options.get("scrollAfterSelect")){r.highlightFirstItem()}});o.on("unselect",function(){if(!o.isOpen()){return}r.setClasses();if(r.options.get("scrollAfterSelect")){r.highlightFirstItem()}});o.on("open",function(){r.$results.attr("aria-expanded","true");r.$results.attr("aria-hidden","false");r.setClasses();r.ensureHighlightVisible()});o.on("close",function(){r.$results.attr("aria-expanded","false");r.$results.attr("aria-hidden","true");r.$results.removeAttr("aria-activedescendant")});o.on("results:toggle",function(){var e=r.getHighlightedResults();if(0===e.length){return}e.trigger("mouseup")});o.on("results:select",function(){var e=r.getHighlightedResults();if(0===e.length){return}var o=t.GetData(e[0],"data");if("true"==e.attr("aria-selected")){r.trigger("close",{})}else{r.trigger("select",{data:o})}});o.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),o=t.index(e);if(0>=o){return}var n=o-1;if(0===e.length){n=0}var a=t.eq(n);a.trigger("mouseenter");var s=r.$results.offset().top,l=a.offset().top,i=r.$results.scrollTop()+(l-s);if(0==n){r.$results.scrollTop(0)}else if(0>l-s){r.$results.scrollTop(i)}});o.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),o=t.index(e),n=o+1;if(n>=t.length){return}var a=t.eq(n);a.trigger("mouseenter");var s=r.$results.offset().top+r.$results.outerHeight(!1),l=a.offset().top+a.outerHeight(!1),i=r.$results.scrollTop()+l-s;if(0===n){r.$results.scrollTop(0)}else if(l>s){r.$results.scrollTop(i)}});o.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")});o.on("results:message",function(e){r.displayMessage(e)});if(e.fn.mousewheel){this.$results.on("mousewheel",function(t){var e=r.$results.scrollTop(),o=r.$results.get(0).scrollHeight-e+t.deltaY,n=0<t.deltaY&&0>=e-t.deltaY,a=0>t.deltaY&&o<=r.$results.height();if(n){r.$results.scrollTop(0);t.preventDefault();t.stopPropagation()}else if(a){r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height());t.preventDefault();t.stopPropagation()}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(o){var n=e(this),a=t.GetData(this,"data");if("true"===n.attr("aria-selected")){if(r.options.get("multiple")){r.trigger("unselect",{originalEvent:o,data:a})}else{r.trigger("close",{})}return}r.trigger("select",{originalEvent:o,data:a})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var o=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted");r.trigger("results:focus",{data:o,element:e(this)})})};o.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e};o.prototype.destroy=function(){this.$results.remove()};o.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0===e.length){return}var t=this.$results.find("[aria-selected]"),o=t.index(e),r=this.$results.offset().top,n=e.offset().top,a=this.$results.scrollTop()+(n-r),s=n-r;a-=2*e.outerHeight(!1);if(2>=o){this.$results.scrollTop(0)}else if(s>this.$results.outerHeight()||0>s){this.$results.scrollTop(a)}};o.prototype.template=function(t,o){var r=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),a=r(t,o);if(null==a){o.style.display="none"}else if("string"==typeof a){o.innerHTML=n(a)}else{e(o).append(a)}};return o});t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}});t.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,o){function r(e,t){this.$element=e;this.options=t;r.__super__.constructor.call(this)}e.Extend(r,e.Observable);r.prototype.render=function(){var o=t("<span class=\"select2-selection\" role=\"combobox\"  aria-haspopup=\"true\" aria-expanded=\"false\"></span>");this._tabindex=0;if(null!=e.GetData(this.$element[0],"old-tabindex")){this._tabindex=e.GetData(this.$element[0],"old-tabindex")}else if(null!=this.$element.attr("tabindex")){this._tabindex=this.$element.attr("tabindex")}o.attr("title",this.$element.attr("title"));o.attr("tabindex",this._tabindex);o.attr("aria-disabled","false");this.$selection=o;return o};r.prototype.bind=function(e){var t=this,r=e.id+"-results";this.container=e;this.$selection.on("focus",function(e){t.trigger("focus",e)});this.$selection.on("blur",function(e){t._handleBlur(e)});this.$selection.on("keydown",function(e){t.trigger("keypress",e);if(e.which===o.SPACE){e.preventDefault()}});e.on("results:focus",function(e){t.$selection.attr("aria-activedescendant",e.data._resultId)});e.on("selection:update",function(e){t.update(e.data)});e.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(e)});e.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.trigger("focus");t._detachCloseHandler(e)});e.on("enable",function(){t.$selection.attr("tabindex",t._tabindex);t.$selection.attr("aria-disabled","false")});e.on("disable",function(){t.$selection.attr("tabindex","-1");t.$selection.attr("aria-disabled","true")})};r.prototype._handleBlur=function(e){var o=this;window.setTimeout(function(){if(document.activeElement==o.$selection[0]||t.contains(o.$selection[0],document.activeElement)){return}o.trigger("blur",e)},1)};r.prototype._attachCloseHandler=function(o){t(document.body).on("mousedown.select2."+o.id,function(o){var r=t(o.target),n=r.closest(".select2"),a=t(".select2.select2-container--open");a.each(function(){if(this==n[0]){return}var t=e.GetData(this,"element");t.select2("close")})})};r.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)};r.prototype.position=function(e,t){var o=t.find(".selection");o.append(e)};r.prototype.destroy=function(){this._detachCloseHandler(this.container)};r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")};return r});t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,o){function r(){r.__super__.constructor.apply(this,arguments)}o.Extend(r,t);r.prototype.render=function(){var e=r.__super__.render.call(this);e.addClass("select2-selection--single");e.html("<span class=\"select2-selection__rendered\"></span><span class=\"select2-selection__arrow\" role=\"presentation\"><b role=\"presentation\"></b></span>");return e};r.prototype.bind=function(e){var t=this;r.__super__.bind.apply(this,arguments);var o=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",o).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",o);this.$selection.on("mousedown",function(e){if(1!==e.which){return}t.trigger("toggle",{originalEvent:e})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});e.on("focus",function(){if(!e.isOpen()){t.$selection.trigger("focus")}})};r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty();e.removeAttr("title")};r.prototype.display=function(e,t){var o=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(o(e,t))};r.prototype.selectionContainer=function(){return e("<span></span>")};r.prototype.update=function(e){if(0===e.length){this.clear();return}var t=e[0],o=this.$selection.find(".select2-selection__rendered"),r=this.display(t,o);o.empty().append(r);var n=t.title||t.text;if(n){o.attr("title",n)}else{o.removeAttr("title")}};return r});t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,o){function r(){r.__super__.constructor.apply(this,arguments)}o.Extend(r,t);r.prototype.render=function(){var e=r.__super__.render.call(this);e.addClass("select2-selection--multiple");e.html("<ul class=\"select2-selection__rendered\"></ul>");return e};r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(e){t.trigger("toggle",{originalEvent:e})});this.$selection.on("click",".select2-selection__choice__remove",function(r){if(t.options.get("disabled")){return}var n=e(this),a=n.parent(),s=o.GetData(a[0],"data");t.trigger("unselect",{originalEvent:r,data:s})})};r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty();e.removeAttr("title")};r.prototype.display=function(e,t){var o=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(o(e,t))};r.prototype.selectionContainer=function(){var t=e("<li class=\"select2-selection__choice\"><span class=\"select2-selection__choice__remove\" role=\"presentation\">&times;</span></li>");return t};r.prototype.update=function(e){this.clear();if(0===e.length){return}for(var t=[],r=0;r<e.length;r++){var n=e[r],a=this.selectionContainer(),s=this.display(n,a);a.append(s);var l=n.title||n.text;if(l){a.attr("title",l)}o.StoreData(a[0],"data",n);t.push(a)}var i=this.$selection.find(".select2-selection__rendered");o.appendMany(i,t)};return r});t.define("select2/selection/placeholder",["../utils"],function(){function e(e,t,o){this.placeholder=this.normalizePlaceholder(o.get("placeholder"));e.call(this,t,o)}e.prototype.normalizePlaceholder=function(e,t){if("string"==typeof t){t={id:"",text:t}}return t};e.prototype.createPlaceholder=function(e,t){var o=this.selectionContainer();o.html(this.display(t));o.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return o};e.prototype.update=function(e,t){var o=1==t.length&&t[0].id!=this.placeholder.id,r=1<t.length;if(r||o){return e.call(this,t)}this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)};return e});t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,o){function r(){}r.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o);if(null==this.placeholder){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)});t.on("keypress",function(e){r._handleKeyboardClear(e,t)})};r.prototype._handleClear=function(e,t){if(this.options.get("disabled")){return}var r=this.$selection.find(".select2-selection__clear");if(0===r.length){return}t.stopPropagation();var n=o.GetData(r[0],"data"),a=this.$element.val();this.$element.val(this.placeholder.id);var s={data:n};this.trigger("clear",s);if(s.prevented){this.$element.val(a);return}for(var l=0;l<n.length;l++){s={data:n[l]};this.trigger("unselect",s);if(s.prevented){this.$element.val(a);return}}this.$element.trigger("change");this.trigger("toggle",{})};r.prototype._handleKeyboardClear=function(e,o,r){if(r.isOpen()){return}if(o.which==t.DELETE||o.which==t.BACKSPACE){this._handleClear(o)}};r.prototype.update=function(t,r){t.call(this,r);if(0<this.$selection.find(".select2-selection__placeholder").length||0===r.length){return}var n=this.options.get("translations").get("removeAllItems"),a=e("<span class=\"select2-selection__clear\" title=\""+n()+"\">&times;</span>");o.StoreData(a[0],"data",r);this.$selection.find(".select2-selection__rendered").prepend(a)};return r});t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,o){function r(e,t,o){e.call(this,t,o)}r.prototype.render=function(t){var o=e("<li class=\"select2-search select2-search--inline\"><input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\" spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" /></li>");this.$searchContainer=o;this.$search=o.find("input");var r=t.call(this);this._transferTabIndex();return r};r.prototype.bind=function(e,r,n){var a=this,s=r.id+"-results";e.call(this,r,n);r.on("open",function(){a.$search.attr("aria-controls",s);a.$search.trigger("focus")});r.on("close",function(){a.$search.val("");a.$search.removeAttr("aria-controls");a.$search.removeAttr("aria-activedescendant");a.$search.trigger("focus")});r.on("enable",function(){a.$search.prop("disabled",!1);a._transferTabIndex()});r.on("disable",function(){a.$search.prop("disabled",!0)});r.on("focus",function(){a.$search.trigger("focus")});r.on("results:focus",function(e){if(e.data._resultId){a.$search.attr("aria-activedescendant",e.data._resultId)}else{a.$search.removeAttr("aria-activedescendant")}});this.$selection.on("focusin",".select2-search--inline",function(e){a.trigger("focus",e)});this.$selection.on("focusout",".select2-search--inline",function(e){a._handleBlur(e)});this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation();a.trigger("keypress",e);a._keyUpPrevented=e.isDefaultPrevented();var r=e.which;if(r===o.BACKSPACE&&""===a.$search.val()){var n=a.$searchContainer.prev(".select2-selection__choice");if(0<n.length){var s=t.GetData(n[0],"data");a.searchRemoveChoice(s);e.preventDefault()}}});this.$selection.on("click",".select2-search--inline",function(e){if(a.$search.val()){e.stopPropagation()}});var l=document.documentMode,i=l&&11>=l;this.$selection.on("input.searchcheck",".select2-search--inline",function(){if(i){a.$selection.off("input.search input.searchcheck");return}a.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(i&&"input"===e.type){a.$selection.off("input.search input.searchcheck");return}var t=e.which;if(t==o.SHIFT||t==o.CTRL||t==o.ALT){return}if(t==o.TAB){return}a.handleSearch(e)})};r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)};r.prototype.update=function(e,t){var o=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");e.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(o){this.$search.trigger("focus")}};r.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1};r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()};r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder")){e=this.$selection.find(".select2-selection__rendered").width()}else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)};return r});t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}t.prototype.bind=function(t,o,r){var n=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];t.call(this,o,r);o.on("*",function(t,o){if(-1===e.inArray(t,a)){return}o=o||{};var r=e.Event("select2:"+t,{params:o});n.$element.trigger(r);if(-1===e.inArray(t,s)){return}o.prevented=r.isDefaultPrevented()})};return t});t.define("select2/translation",["jquery","require"],function(e,t){function o(e){this.dict=e||{}}o.prototype.all=function(){return this.dict};o.prototype.get=function(e){return this.dict[e]};o.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)};o._cache={};o.loadPath=function(e){if(!(e in o._cache)){var r=t(e);o._cache[e]=r}return new o(o._cache[e])};return o});t.define("select2/diacritics",[],function(){return{"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Œ:"OE",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",œ:"oe",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"\u0391",Έ:"\u0395",Ή:"\u0397",Ί:"\u0399",Ϊ:"\u0399",Ό:"\u039F",Ύ:"\u03A5",Ϋ:"\u03A5",Ώ:"\u03A9",ά:"\u03B1",έ:"\u03B5",ή:"\u03B7",ί:"\u03B9",ϊ:"\u03B9",ΐ:"\u03B9",ό:"\u03BF",ύ:"\u03C5",ϋ:"\u03C5",ΰ:"\u03C5",ώ:"\u03C9",ς:"\u03C3","’":"'"}});t.define("select2/data/base",["../utils"],function(e){function t(){t.__super__.constructor.call(this)}e.Extend(t,e.Observable);t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")};t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")};t.prototype.bind=function(){};t.prototype.destroy=function(){};t.prototype.generateResultId=function(t,o){var r=t.id+"-result-";r+=e.generateChars(4);if(null!=o.id){r+="-"+o.id.toString()}else{r+="-"+e.generateChars(4)}return r};return t});t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,o){function r(e,t){this.$element=e;this.options=t;r.__super__.constructor.call(this)}t.Extend(r,e);r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=o(this),n=r.item(e);t.push(n)});e(t)};r.prototype.select=function(e){var t=this;e.selected=!0;if(o(e.element).is("option")){e.element.selected=!0;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(r){var n=[];e=[e];e.push.apply(e,r);for(var a=0,s;a<e.length;a++){s=e[a].id;if(-1===o.inArray(s,n)){n.push(s)}}t.$element.val(n);t.$element.trigger("change")})}else{var r=e.id;this.$element.val(r);this.$element.trigger("change")}};r.prototype.unselect=function(e){var t=this;if(!this.$element.prop("multiple")){return}e.selected=!1;if(o(e.element).is("option")){e.element.selected=!1;this.$element.trigger("change");return}this.current(function(r){for(var n=[],a=0,s;a<r.length;a++){s=r[a].id;if(s!==e.id&&-1===o.inArray(s,n)){n.push(s)}}t.$element.val(n);t.$element.trigger("change")})};r.prototype.bind=function(e){var t=this;this.container=e;e.on("select",function(e){t.select(e.data)});e.on("unselect",function(e){t.unselect(e.data)})};r.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})};r.prototype.query=function(e,t){var r=[],n=this,a=this.$element.children();a.each(function(){var t=o(this);if(!t.is("option")&&!t.is("optgroup")){return}var a=n.item(t),s=n.matches(e,a);if(null!==s){r.push(s)}});t({results:r})};r.prototype.addOptions=function(e){t.appendMany(this.$element,e)};r.prototype.option=function(e){var r;if(e.children){r=document.createElement("optgroup");r.label=e.text}else{r=document.createElement("option");if(r.textContent!==void 0){r.textContent=e.text}else{r.innerText=e.text}}if(e.id!==void 0){r.value=e.id}if(e.disabled){r.disabled=!0}if(e.selected){r.selected=!0}if(e.title){r.title=e.title}var n=o(r),a=this._normalizeItem(e);a.element=r;t.StoreData(r,"data",a);return n};r.prototype.item=function(e){var r={};r=t.GetData(e[0],"data");if(null!=r){return r}if(e.is("option")){r={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")}}else if(e.is("optgroup")){r={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),a=[],s=0;s<n.length;s++){var l=o(n[s]),i=this.item(l);a.push(i)}r.children=a}r=this._normalizeItem(r);r.element=e[0];t.StoreData(e[0],"data",r);return r};r.prototype._normalizeItem=function(e){if(e!==Object(e)){e={id:e,text:e}}e=o.extend({},{text:""},e);if(null!=e.id){e.id=e.id.toString()}if(null!=e.text){e.text=e.text.toString()}if(null==e._resultId&&e.id&&null!=this.container){e._resultId=this.generateResultId(this.container,e)}return o.extend({},{selected:!1,disabled:!1},e)};r.prototype.matches=function(e,t){var o=this.options.get("matcher");return o(e,t)};return r});t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,o){function r(e,t){this._dataToConvert=t.get("data")||[];r.__super__.constructor.call(this,e,t)}t.Extend(r,e);r.prototype.bind=function(e,t){r.__super__.bind.call(this,e,t);this.addOptions(this.convertToOptions(this._dataToConvert))};r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,o){return o.value==e.id.toString()});if(0===t.length){t=this.option(e);this.addOptions(t)}r.__super__.select.call(this,e)};r.prototype.convertToOptions=function(e){var n=this,a=this.$element.find("option"),s=a.map(function(){return n.item(o(this)).id}).get(),l=[];function r(e){return function(){return o(this).val()==e.id}}for(var i=0,p;i<e.length;i++){p=this._normalizeItem(e[i]);if(0<=o.inArray(p.id,s)){var c=a.filter(r(p)),u=this.item(c),g=o.extend(!0,{},p,u),h=this.option(g);c.replaceWith(h);continue}var m=this.option(p);if(p.children){var y=this.convertToOptions(p.children);t.appendMany(m,y)}l.push(m)}return l};return r});t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,o){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));if(null!=this.ajaxOptions.processResults){this.processResults=this.ajaxOptions.processResults}r.__super__.constructor.call(this,e,t)}t.Extend(r,e);r.prototype._applyDefaults=function(e){return o.extend({},{data:function data(e){return o.extend({},e,{q:e.term})},transport:function transport(e,t,r){var n=o.ajax(e);n.then(t);n.fail(r);return n}},e,!0)};r.prototype.processResults=function(e){return e};r.prototype.query=function(e,t){var n=this;if(null!=this._request){if(o.isFunction(this._request.abort)){this._request.abort()}this._request=null}var a=o.extend({type:"GET"},this.ajaxOptions);if("function"==typeof a.url){a.url=a.url.call(this.$element,e)}if("function"==typeof a.data){a.data=a.data.call(this.$element,e)}function r(){var r=a.transport(a,function(r){var a=n.processResults(r,e);if(n.options.get("debug")&&window.console&&console.error){if(!a||!a.results||!o.isArray(a.results)){console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")}}t(a)},function(){if("status"in r&&(0===r.status||"0"===r.status)){return}n.trigger("results:message",{message:"errorLoading"})});n._request=r}if(this.ajaxOptions.delay&&null!=e.term){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)}else{r()}};return r});t.define("select2/data/tags",["jquery"],function(e){function t(o,r,n){var a=n.get("tags"),s=n.get("createTag");if(s!==void 0){this.createTag=s}var l=n.get("insertTag");if(l!==void 0){this.insertTag=l}o.call(this,r,n);if(e.isArray(a)){for(var i=0;i<a.length;i++){var d=a[i],p=this._normalizeItem(d),c=this.option(p);this.$element.append(c)}}}t.prototype.query=function(e,t,o){var n=this;this._removeOldTags();if(null==t.term||null!=t.page){e.call(this,t,o);return}function r(e,a){for(var s=e.results,l=0;l<s.length;l++){var d=s[l],p=null!=d.children&&!r({results:d.children},!0),c=(d.text||"").toUpperCase(),u=(t.term||"").toUpperCase();if(c===u||p){if(a){return!1}e.data=s;o(e);return}}if(a){return!0}var g=n.createTag(t);if(null!=g){var h=n.option(g);h.attr("data-select2-tag",!0);n.addOptions([h]);n.insertTag(s,g)}e.results=s;o(e)}e.call(this,t,r)};t.prototype.createTag=function(t,o){var r=e.trim(o.term);if(""===r){return null}return{id:r,text:r}};t.prototype.insertTag=function(e,t,o){t.unshift(o)};t.prototype._removeOldTags=function(){var t=this.$element.find("option[data-select2-tag]");t.each(function(){if(this.selected){return}e(this).remove()})};return t});t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,o){var r=o.get("tokenizer");if(r!==void 0){this.tokenizer=r}e.call(this,t,o)}t.prototype.bind=function(e,t,o){e.call(this,t,o);this.$search=t.dropdown.$search||t.selection.$search||o.find(".select2-search__field")};t.prototype.query=function(t,o,r){var a=this;function n(e){a.trigger("select",{data:e})}o.term=o.term||"";var s=this.tokenizer(o,this.options,function(t){var o=a._normalizeItem(t),r=a.$element.find("option").filter(function(){return e(this).val()===o.id});if(!r.length){var s=a.option(o);s.attr("data-select2-tag",!0);a._removeOldTags();a.addOptions([s])}n(o)});if(s.term!==o.term){if(this.$search.length){this.$search.val(s.term);this.$search.trigger("focus")}o.term=s.term}t.call(this,o,r)};t.prototype.tokenizer=function(t,o,r,n){var a=r.get("tokenSeparators")||[],s=o.term,l=0,d=this.createTag||function(e){return{id:e.term,text:e.term}};while(l<s.length){var p=s[l];if(-1===e.inArray(p,a)){l++;continue}var c=s.substr(0,l),u=e.extend({},o,{term:c}),g=d(u);if(null==g){l++;continue}n(g);s=s.substr(l+1)||"";l=0}return{term:s}};return t});t.define("select2/data/minimumInputLength",[],function(){function e(e,t,o){this.minimumInputLength=o.get("minimumInputLength");e.call(this,t,o)}e.prototype.query=function(e,t,o){t.term=t.term||"";if(t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}e.call(this,t,o)};return e});t.define("select2/data/maximumInputLength",[],function(){function e(e,t,o){this.maximumInputLength=o.get("maximumInputLength");e.call(this,t,o)}e.prototype.query=function(e,t,o){t.term=t.term||"";if(0<this.maximumInputLength&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}e.call(this,t,o)};return e});t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,o){this.maximumSelectionLength=o.get("maximumSelectionLength");e.call(this,t,o)}e.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o);t.on("select",function(){r._checkIfMaximumSelected()})};e.prototype.query=function(e,t,o){var r=this;this._checkIfMaximumSelected(function(){e.call(r,t,o)})};e.prototype._checkIfMaximumSelected=function(e,t){var o=this;this.current(function(e){var r=null!=e?e.length:0;if(0<o.maximumSelectionLength&&r>=o.maximumSelectionLength){o.trigger("results:message",{message:"maximumSelected",args:{maximum:o.maximumSelectionLength}});return}if(t){t()}})};return e});t.define("select2/dropdown",["jquery","./utils"],function(e,t){function o(e,t){this.$element=e;this.options=t;o.__super__.constructor.call(this)}t.Extend(o,t.Observable);o.prototype.render=function(){var t=e("<span class=\"select2-dropdown\"><span class=\"select2-results\"></span></span>");t.attr("dir",this.options.get("dir"));this.$dropdown=t;return t};o.prototype.bind=function(){};o.prototype.position=function(){};o.prototype.destroy=function(){this.$dropdown.remove()};return o});t.define("select2/dropdown/search",["jquery","../utils"],function(e){function t(){}t.prototype.render=function(t){var o=t.call(this),r=e("<span class=\"select2-search select2-search--dropdown\"><input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\" spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" /></span>");this.$searchContainer=r;this.$search=r.find("input");o.prepend(r);return o};t.prototype.bind=function(t,o,r){var n=this,a=o.id+"-results";t.call(this,o,r);this.$search.on("keydown",function(e){n.trigger("keypress",e);n._keyUpPrevented=e.isDefaultPrevented()});this.$search.on("input",function(){e(this).off("keyup")});this.$search.on("keyup input",function(e){n.handleSearch(e)});o.on("open",function(){n.$search.attr("tabindex",0);n.$search.attr("aria-controls",a);n.$search.trigger("focus");window.setTimeout(function(){n.$search.trigger("focus")},0)});o.on("close",function(){n.$search.attr("tabindex",-1);n.$search.removeAttr("aria-controls");n.$search.removeAttr("aria-activedescendant");n.$search.val("");n.$search.trigger("blur")});o.on("focus",function(){if(!o.isOpen()){n.$search.trigger("focus")}});o.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=n.showSearch(e);if(t){n.$searchContainer.removeClass("select2-search--hide")}else{n.$searchContainer.addClass("select2-search--hide")}}});o.on("results:focus",function(e){if(e.data._resultId){n.$search.attr("aria-activedescendant",e.data._resultId)}else{n.$search.removeAttr("aria-activedescendant")}})};t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1};t.prototype.showSearch=function(){return!0};return t});t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,o,r){this.placeholder=this.normalizePlaceholder(o.get("placeholder"));e.call(this,t,o,r)}e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results);e.call(this,t)};e.prototype.normalizePlaceholder=function(e,t){if("string"==typeof t){t={id:"",text:t}}return t};e.prototype.removePlaceholder=function(e,t){for(var o=t.slice(0),r=t.length-1,n;0<=r;r--){n=t[r];if(this.placeholder.id===n.id){o.splice(r,1)}}return o};return e});t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,o,r){this.lastParams={};e.call(this,t,o,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}t.prototype.append=function(e,t){this.$loadingMore.remove();this.loading=!1;e.call(this,t);if(this.showLoadingMore(t)){this.$results.append(this.$loadingMore);this.loadMoreIfNeeded()}};t.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o);t.on("query",function(e){r.lastParams=e;r.loading=!0});t.on("query:append",function(e){r.lastParams=e;r.loading=!0});this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))};t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(this.loading||!t){return}var o=this.$results.offset().top+this.$results.outerHeight(!1),r=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);if(o+50>=r){this.loadMore()}};t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)};t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more};t.prototype.createLoadingMore=function(){var t=e("<li class=\"select2-results__option select2-results__option--load-more\"role=\"option\" aria-disabled=\"true\"></li>"),o=this.options.get("translations").get("loadingMore");t.html(o(this.lastParams));return t};return t});t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function o(t,o,r){this.$dropdownParent=r.get("dropdownParent")||e(document.body);t.call(this,o,r)}o.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o);t.on("open",function(){r._showDropdown();r._attachPositioningHandler(t)});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});t.on("results:all",function(){r._positionDropdown();r._resizeDropdown()});t.on("results:append",function(){r._positionDropdown();r._resizeDropdown()});t.on("results:message",function(){r._positionDropdown();r._resizeDropdown()});t.on("select",function(){r._positionDropdown();r._resizeDropdown()});t.on("unselect",function(){r._positionDropdown();r._resizeDropdown()});this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})};o.prototype.destroy=function(e){e.call(this);this.$dropdownContainer.remove()};o.prototype.position=function(e,t,o){t.attr("class",o.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=o};o.prototype.render=function(t){var o=e("<span></span>"),r=t.call(this);o.append(r);this.$dropdownContainer=o;return o};o.prototype._hideDropdown=function(){this.$dropdownContainer.detach()};o.prototype._attachPositioningHandler=function(o,r){var n=this,a="scroll.select2."+r.id,s="resize.select2."+r.id,l="orientationchange.select2."+r.id,i=this.$container.parents().filter(t.hasScroll);i.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})});i.on(a,function(){var o=t.GetData(this,"select2-scroll-position");e(this).scrollTop(o.y)});e(window).on(a+" "+s+" "+l,function(){n._positionDropdown();n._resizeDropdown()})};o.prototype._detachPositioningHandler=function(o,r){var n="scroll.select2."+r.id,a="resize.select2."+r.id,s="orientationchange.select2."+r.id,l=this.$container.parents().filter(t.hasScroll);l.off(n);e(window).off(n+" "+a+" "+s)};o.prototype._positionDropdown=function(){var t=e(window),o=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),n=null,a=this.$container.offset();a.bottom=a.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1),top:a.top};s.bottom=a.top+s.height;var l={height:this.$dropdown.outerHeight(!1)},i={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},d=i.top<a.top-l.height,p=i.bottom>a.bottom+l.height,c={left:a.left,top:s.bottom},u=this.$dropdownParent;if("static"===u.css("position")){u=u.offsetParent()}var g=u.offset();c.top-=g.top;c.left-=g.left;if(!o&&!r){n="below"}if(!p&&d&&!o){n="above"}else if(!d&&p&&o){n="below"}if("above"==n||o&&"below"!==n){c.top=s.top-g.top-l.height}if(null!=n){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)}this.$dropdownContainer.css(c)};o.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};if(this.options.get("dropdownAutoWidth")){e.minWidth=e.width;e.position="relative";e.width="auto"}this.$dropdown.css(e)};o.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return o});t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var o=0,r=0,n;r<t.length;r++){n=t[r];if(n.children){o+=e(n.children)}else{o++}}return o}function t(e,t,o,r){this.minimumResultsForSearch=o.get("minimumResultsForSearch");if(0>this.minimumResultsForSearch){this.minimumResultsForSearch=1/0}e.call(this,t,o,r)}t.prototype.showSearch=function(t,o){if(e(o.data.results)<this.minimumResultsForSearch){return!1}return t.call(this,o)};return t});t.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}t.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o);t.on("close",function(e){r._handleSelectOnClose(e)})};t.prototype._handleSelectOnClose=function(t,o){if(o&&null!=o.originalSelect2Event){var r=o.originalSelect2Event;if("select"===r._type||"unselect"===r._type){return}}var n=this.getHighlightedResults();if(1>n.length){return}var a=e.GetData(n[0],"data");if(null!=a.element&&a.element.selected||null==a.element&&a.selected){return}this.trigger("select",{data:a})};return t});t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}e.prototype.bind=function(e,t,o){var r=this;e.call(this,t,o);t.on("select",function(e){r._selectTriggered(e)});t.on("unselect",function(e){r._selectTriggered(e)})};e.prototype._selectTriggered=function(e,t){var o=t.originalEvent;if(o&&(o.ctrlKey||o.metaKey)){return}this.trigger("close",{originalEvent:o,originalSelect2Event:t})};return e});t.define("select2/i18n/en",[],function(){return{errorLoading:function errorLoading(){return"The results could not be loaded."},inputTooLong:function inputTooLong(e){var t=e.input.length-e.maximum,o="Please delete "+t+" character";if(1!=t){o+="s"}return o},inputTooShort:function inputTooShort(e){var t=e.minimum-e.input.length;return"Please enter "+t+" or more characters"},loadingMore:function loadingMore(){return"Loading more results\u2026"},maximumSelected:function maximumSelected(e){var t="You can only select "+e.maximum+" item";if(1!=e.maximum){t+="s"}return t},noResults:function noResults(){return"No results found"},searching:function searching(){return"Searching\u2026"},removeAllItems:function removeAllItems(){return"Remove all items"}}});t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,o,r,n,a,s,l,i,d,p,c,u,g,h,m,y,f,_,b,v,A,w,x,D,S,C,E){function O(){this.reset()}O.prototype.apply=function(p){p=e.extend(!0,{},this.defaults,p);if(null==p.dataAdapter){if(null!=p.ajax){p.dataAdapter=h}else if(null!=p.data){p.dataAdapter=g}else{p.dataAdapter=u}if(0<p.minimumInputLength){p.dataAdapter=d.Decorate(p.dataAdapter,f)}if(0<p.maximumInputLength){p.dataAdapter=d.Decorate(p.dataAdapter,_)}if(0<p.maximumSelectionLength){p.dataAdapter=d.Decorate(p.dataAdapter,b)}if(p.tags){p.dataAdapter=d.Decorate(p.dataAdapter,m)}if(null!=p.tokenSeparators||null!=p.tokenizer){p.dataAdapter=d.Decorate(p.dataAdapter,y)}if(null!=p.query){var c=t(p.amdBase+"compat/query");p.dataAdapter=d.Decorate(p.dataAdapter,c)}if(null!=p.initSelection){var O=t(p.amdBase+"compat/initSelection");p.dataAdapter=d.Decorate(p.dataAdapter,O)}}if(null==p.resultsAdapter){p.resultsAdapter=o;if(null!=p.ajax){p.resultsAdapter=d.Decorate(p.resultsAdapter,x)}if(null!=p.placeholder){p.resultsAdapter=d.Decorate(p.resultsAdapter,w)}if(p.selectOnClose){p.resultsAdapter=d.Decorate(p.resultsAdapter,C)}}if(null==p.dropdownAdapter){if(p.multiple){p.dropdownAdapter=v}else{var T=d.Decorate(v,A);p.dropdownAdapter=T}if(0!==p.minimumResultsForSearch){p.dropdownAdapter=d.Decorate(p.dropdownAdapter,S)}if(p.closeOnSelect){p.dropdownAdapter=d.Decorate(p.dropdownAdapter,E)}if(null!=p.dropdownCssClass||null!=p.dropdownCss||null!=p.adaptDropdownCssClass){var q=t(p.amdBase+"compat/dropdownCss");p.dropdownAdapter=d.Decorate(p.dropdownAdapter,q)}p.dropdownAdapter=d.Decorate(p.dropdownAdapter,D)}if(null==p.selectionAdapter){if(p.multiple){p.selectionAdapter=n}else{p.selectionAdapter=r}if(null!=p.placeholder){p.selectionAdapter=d.Decorate(p.selectionAdapter,a)}if(p.allowClear){p.selectionAdapter=d.Decorate(p.selectionAdapter,s)}if(p.multiple){p.selectionAdapter=d.Decorate(p.selectionAdapter,l)}if(null!=p.containerCssClass||null!=p.containerCss||null!=p.adaptContainerCssClass){var L=t(p.amdBase+"compat/containerCss");p.selectionAdapter=d.Decorate(p.selectionAdapter,L)}p.selectionAdapter=d.Decorate(p.selectionAdapter,i)}p.language=this._resolveLanguage(p.language);p.language.push("en");for(var k=[],I=0,j;I<p.language.length;I++){j=p.language[I];if(-1===k.indexOf(j)){k.push(j)}}p.language=k;p.translations=this._processTranslations(p.language,p.debug);return p};O.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return c[e]||e})}function o(r,n){if(""===e.trim(r.term)){return n}if(n.children&&0<n.children.length){for(var a=e.extend(!0,{},n),s=n.children.length-1;0<=s;s--){var l=n.children[s],i=o(r,l);if(null==i){a.children.splice(s,1)}}if(0<a.children.length){return a}return o(r,a)}var d=t(n.text).toUpperCase(),p=t(r.term).toUpperCase();if(-1<d.indexOf(p)){return n}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:d.escapeMarkup,language:{},matcher:o,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function sorter(e){return e},templateResult:function templateResult(e){return e.text},templateSelection:function templateSelection(e){return e.text},theme:"default",width:"resolve"}};O.prototype.applyFromElement=function(e,t){var o=e.language,r=this.defaults.language,n=t.prop("lang"),a=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(n),this._resolveLanguage(o),this._resolveLanguage(r),this._resolveLanguage(a));e.language=s;return e};O.prototype._resolveLanguage=function(t){if(!t){return[]}if(e.isEmptyObject(t)){return[]}if(e.isPlainObject(t)){return[t]}var o;if(!e.isArray(t)){o=[t]}else{o=t}for(var r=[],n=0;n<o.length;n++){r.push(o[n]);if("string"==typeof o[n]&&0<o[n].indexOf("-")){var a=o[n].split("-"),s=a[0];r.push(s)}}return r};O.prototype._processTranslations=function(t,o){for(var r=new p,n=0;n<t.length;n++){var a=new p,s=t[n];if("string"==typeof s){try{a=p.loadPath(s)}catch(t){try{s=this.defaults.amdLanguageBase+s;a=p.loadPath(s)}catch(e){if(o&&window.console&&console.warn){console.warn("Select2: The language file for \""+s+"\" could not be automatically loaded. A fallback will be used instead.")}}}}else if(e.isPlainObject(s)){a=new p(s)}else{a=s}r.extend(a)}return r};O.prototype.set=function(t,o){var r=e.camelCase(t),n={};n[r]=o;var a=d._convertData(n);e.extend(!0,this.defaults,a)};var T=new O;return T});t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,o,r){function n(t,n){this.options=t;if(null!=n){this.fromElement(n)}if(null!=n){this.options=o.applyFromElement(this.options,n)}this.options=o.apply(this.options);if(n&&n.is("input")){var a=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,a)}}n.prototype.fromElement=function(e){var n=["select2"];if(null==this.options.multiple){this.options.multiple=e.prop("multiple")}if(null==this.options.disabled){this.options.disabled=e.prop("disabled")}if(null==this.options.dir){if(e.prop("dir")){this.options.dir=e.prop("dir")}else if(e.closest("[dir]").prop("dir")){this.options.dir=e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}e.prop("disabled",this.options.disabled);e.prop("multiple",this.options.multiple);if(r.GetData(e[0],"select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags=\"true\"` attributes and will be removed in future versions of Select2.")}r.StoreData(e[0],"data",r.GetData(e[0],"select2Tags"));r.StoreData(e[0],"tags",!0)}if(r.GetData(e[0],"ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2.")}e.attr("ajax--url",r.GetData(e[0],"ajaxUrl"));r.StoreData(e[0],"ajax-Url",r.GetData(e[0],"ajaxUrl"))}var a={};function o(e,t){return t.toUpperCase()}for(var s=0;s<e[0].attributes.length;s++){var l=e[0].attributes[s].name,i="data-";if(l.substr(0,i.length)==i){var d=l.substring(i.length),p=r.GetData(e[0],d),c=d.replace(/-([a-z])/g,o);a[c]=p}}if(t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset){a=t.extend(!0,{},e[0].dataset,a)}var u=t.extend(!0,{},r.GetData(e[0]),a);u=r._convertData(u);for(var g in u){if(-1<t.inArray(g,n)){continue}if(t.isPlainObject(this.options[g])){t.extend(this.options[g],u[g])}else{this.options[g]=u[g]}}return this};n.prototype.get=function(e){return this.options[e]};n.prototype.set=function(e,t){this.options[e]=t};return n});t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,o,r){var n=function(e,r){if(null!=o.GetData(e[0],"select2")){o.GetData(e[0],"select2").destroy()}this.$element=e;this.id=this._generateId(e);r=r||{};this.options=new t(r,e);n.__super__.constructor.call(this);var a=e.attr("tabindex")||0;o.StoreData(e[0],"old-tabindex",a);e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var l=this.render();this._placeContainer(l);var i=this.options.get("selectionAdapter");this.selection=new i(e,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,l);var d=this.options.get("dropdownAdapter");this.dropdown=new d(e,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,l);var p=this.options.get("resultsAdapter");this.results=new p(e,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(e){c.trigger("selection:update",{data:e})});e.addClass("select2-hidden-accessible");e.attr("aria-hidden","true");this._syncAttributes();o.StoreData(e[0],"select2",this);e.data("select2",this)};o.Extend(n,o.Observable);n.prototype._generateId=function(e){var t="";if(null!=e.attr("id")){t=e.attr("id")}else if(null!=e.attr("name")){t=e.attr("name")+"-"+o.generateChars(2)}else{t=o.generateChars(4)}t=t.replace(/(:|\.|\[|\]|,)/g,"");t="select2-"+t;return t};n.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));if(null!=t){e.css("width",t)}};n.prototype._resolveWidth=function(e,t){var o=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");if(null!=r){return r}return this._resolveWidth(e,"element")}if("element"==t){var n=e.outerWidth(!1);if(0>=n){return"auto"}return n+"px"}if("style"==t){var a=e.attr("style");if("string"!=typeof a){return null}for(var s=a.split(";"),d=0,p=s.length;d<p;d=d+1){var l=s[d].replace(/\s/g,""),c=l.match(o);if(null!==c&&1<=c.length){return c[1]}}return null}if("computedstyle"==t){var u=window.getComputedStyle(e[0]);return u.width}return t};n.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};n.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})});this.$element.on("focus.select2",function(e){t.trigger("focus",e)});this._syncA=o.bind(this._syncAttributes,this);this._syncS=o.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=r){this._observer=new r(function(o){e.each(o,t._syncA);e.each(o,t._syncS)});this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1);this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1);this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1)}};n.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,o){e.trigger(t,o)})};n.prototype._registerSelectionEvents=function(){var t=this,o=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(e){t.focus(e)});this.selection.on("*",function(r,n){if(-1!==e.inArray(r,o)){return}t.trigger(r,n)})};n.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,o){e.trigger(t,o)})};n.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,o){e.trigger(t,o)})};n.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")});this.on("close",function(){e.$container.removeClass("select2-container--open")});this.on("enable",function(){e.$container.removeClass("select2-container--disabled")});this.on("disable",function(){e.$container.addClass("select2-container--disabled")});this.on("blur",function(){e.$container.removeClass("select2-container--focus")});this.on("query",function(t){if(!e.isOpen()){e.trigger("open",{})}this.dataAdapter.query(t,function(o){e.trigger("results:all",{data:o,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(o){e.trigger("results:append",{data:o,query:t})})});this.on("keypress",function(t){var o=t.which;if(e.isOpen()){if(o===r.ESC||o===r.TAB||o===r.UP&&t.altKey){e.close();t.preventDefault()}else if(o===r.ENTER){e.trigger("results:select",{});t.preventDefault()}else if(o===r.SPACE&&t.ctrlKey){e.trigger("results:toggle",{});t.preventDefault()}else if(o===r.UP){e.trigger("results:previous",{});t.preventDefault()}else if(o===r.DOWN){e.trigger("results:next",{});t.preventDefault()}}else{if(o===r.ENTER||o===r.SPACE||o===r.DOWN&&t.altKey){e.open();t.preventDefault()}}})};n.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};n.prototype._syncSubtree=function(e,t){var o=!1,r=this;if(e&&e.target&&"OPTION"!==e.target.nodeName&&"OPTGROUP"!==e.target.nodeName){return}if(!t){o=!0}else if(t.addedNodes&&0<t.addedNodes.length){for(var a=0,s;a<t.addedNodes.length;a++){s=t.addedNodes[a];if(s.selected){o=!0}}}else if(t.removedNodes&&0<t.removedNodes.length){o=!0}if(o){this.dataAdapter.current(function(e){r.trigger("selection:update",{data:e})})}};n.prototype.trigger=function(e,t){var o=n.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(t===void 0){t={}}if(e in r){var a=r[e],s={prevented:!1,name:e,args:t};o.call(this,a,s);if(s.prevented){t.prevented=!0;return}}o.call(this,e,t)};n.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};n.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};n.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};n.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};n.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};n.prototype.focus=function(){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};n.prototype.enable=function(e){if(this.options.get("debug")&&window.console&&console.warn){console.warn("Select2: The `select2(\"enable\")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop(\"disabled\") instead.")}if(null==e||0===e.length){e=[!0]}var t=!e[0];this.$element.prop("disabled",t)};n.prototype.data=function(){if(this.options.get("debug")&&0<arguments.length&&window.console&&console.warn){console.warn("Select2: Data can no longer be set using `select2(\"data\")`. You should consider setting the value instead using `$element.val()`.")}var e=[];this.dataAdapter.current(function(t){e=t});return e};n.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn){console.warn("Select2: The `select2(\"val\")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.")}if(null==t||0===t.length){return this.$element.val()}var o=t[0];if(e.isArray(o)){o=e.map(o,function(e){return e.toString()})}this.$element.val(o).trigger("change")};n.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(null!=this._observer){this._observer.disconnect();this._observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",o.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");o.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};n.prototype.render=function(){var t=e("<span class=\"select2 select2-container\"><span class=\"selection\"></span><span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span></span>");t.attr("dir",this.options.get("dir"));this.$container=t;this.$container.addClass("select2-container--"+this.options.get("theme"));o.StoreData(t[0],"element",this.$element);return t};return n});t.define("jquery-mousewheel",["jquery"],function(e){return e});t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,o,r,n){if(null==e.fn.select2){var a=["open","close","destroy"];e.fn.select2=function(t){t=t||{};if("object"===_typeof(t)){this.each(function(){var r=e.extend(!0,{},t),n=new o(e(this),r)});return this}else if("string"==typeof t){var r,s=Array.prototype.slice.call(arguments,1);this.each(function(){var e=n.GetData(this,"select2");if(null==e&&window.console&&console.error){console.error("The select2('"+t+"') method was called on an element that is not using Select2.")}r=e[t].apply(e,s)});if(-1<e.inArray(t,a)){return this}return r}else{throw new Error("Invalid arguments for Select2: "+t)}}}if(null==e.fn.select2.defaults){e.fn.select2.defaults=r}return o});return{define:t.define,require:t.require}}(),o=t.require("jquery.select2");e.fn.select2.amd=t;return o});
//# sourceMappingURL=select2.min.js.map
